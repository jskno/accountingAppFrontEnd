<div class="row">
  <div class="col-sm-12">
    <form [formGroup]="purchaseInvoiceForm" (ngSubmit)="onSubmit()">

      <div formGroupName="purchaseInvoiceData">

        <div class="row">
          <div class="col-sm-3 form-group">
            <div class="form-group">
              <label for="invoiceNumber">Invoice Number</label>
              <input
                type="text"
                id="invoiceNumber"
                class="form-control"
                formControlName="invoiceNumber">
            </div>
          </div>

          <div class="col-sm-4">
            <div class="form-group">
              <label for="date">Date</label>
              <input
                type="date"
                id="date"
                class="form-control"
                formControlName="date">
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-5 form-group">
            <div class="form-group">
              <label for="company">Company</label>
              <select
                id="company"
                class="form-control"
                formControlName="company">
                <option *ngFor="let company of companies" [ngValue]="company">{{ company.cif }} - {{ company.name }}</option>
              </select>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-sm-3 form-group">
            <div class="form-group">
              <label for="amount">Base Imponible</label>
              <input
                type="number"
                id="amount"
                class="form-control"
                formControlName="amount"
                pattern="^[1-9]+[0-9]*$">
            </div>
          </div>
          <div class="col-sm-2">
            <div class="form-group">
              <label for="vatPercentage">VAT %</label>
              <input
                type="text"
                id="vatPercentage"
                class="form-control"
                formControlName="vatPercentage"
                pattern="^[1-9]+[0-9]*$">
            </div>
          </div>
          <div class="col-sm-2">
            <div class="form-group">
              <label for="vatAmount">VAT Amount</label>
              <input
                type="number"
                id="vatAmount"
                class="form-control"
                formControlName="vatAmount">
            </div>
          </div>
          <div class="col-sm-3">
            <div class="form-group">
              <label for="totalInvoice">Total Factura</label>
              <input
                type="number"
                id="totalInvoice"
                class="form-control"
                formControlName="totalInvoice">
            </div>
          </div>
        </div>

      </div>

      <div formGroupName="purchaseInvoiceClassificationData">

        <div class="row">
          <div class="col-sm-5">
            <div class="form-group">
              <label for="expenseType">Expense Type</label>
              <select
                id="expenseType"
                class="form-control"
                formControlName="expenseType">
                <option
                  *ngFor="let expenseType of expenseTypes"
                  [ngValue]="expenseType">{{ expenseType.value }}</option>
              </select>
            </div>
          </div>
          <div class="col-sm-5">
            <div class="form-group">
              <label>
                Applicable to VAT
                <input
                  type="checkbox"
                  name="vatApplicable"
                  class="form-control"
                  formControlName="vatApplicable"
                  [checked]="vatApplicable">
              </label>
            </div>
          </div>
          <div class="col-sm-2">
            <div class="form-group">
              <label for="vatPercentageApplicable">VAT Percentage Applicable</label>
              <input
                type="number"
                id="vatPercentageApplicable"
                class="form-control"
                formControlName="vatPercentageApplicable">
            </div>
          </div>
        </div>

        <div class="radio" *ngFor="let expensePeriod of expensePeriods">
          <label>
            <input
              type="radio"
              name="expensePeriod"
              formControlName="expensePeriod"
              [value]="expensePeriod">
            {{ expensePeriod.value }}
          </label>
        </div>
        <div class="row">
          <div class="col-sm-7 form-group">
            <div class="form-group">
              <label for="amortizationPolicy">Amortization Policy</label>
              <textarea
                type="text"
                id="amortizationPolicy"
                class="form-control"
                name="amortizationPolicy"
                rows="6"
                formControlName="amortizationPolicy"
                ></textarea>
            </div>
          </div>
          <div class="col-sm-3 form-group">
            <div class="form-group">
              <label for="annualAmortPercentage">Porcentage Anual</label>
              <input
                type="number"
                id="annualAmortPercentage"
                class="form-control"
                name="annualAmortPercentage"
                formControlName="annualAmortPercentage"
                pattern="^[1-9]+[0-9]*$">
            </div>
          </div>
        </div>
      </div>

      <button
        class="btn btn-primary"
        type="submit"
        [disabled]="!purchaseInvoiceForm.valid">{{ editMode ? 'Update' : 'Add'}}</button>

    </form>
  </div>
</div>
